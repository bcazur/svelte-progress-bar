"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var ProgressBar=function(){function noop(){}function assign(tar,src){for(var k in src)tar[k]=src[k];return tar}function insert(target,node,anchor){target.insertBefore(node,anchor)}function detachNode(node){node.parentNode.removeChild(node)}function createElement(name){return document.createElement(name)}function blankObject(){return Object.create(null)}function callAll(fns){for(;fns&&fns.length;)fns.shift()()}var updater;var methods={start:function(){this.reset(),this.continue()},reset:function(){var startingWidth=this.get().minimum;this.set({width:startingWidth,running:!0})},continue:function(){var _this=this,maximumWidth=this.get().maximum,intervalTime=this.get().intervalTime;updater&&clearInterval(updater),this.set({running:!0}),updater=setInterval(function(){var number,value=_this.get().width,stepSizes=_this.get().stepSizes,randomStep=stepSizes[Math.floor(Math.random()*stepSizes.length)],step=(0<=(number=value)&&number<.2?.1:.2<=number&&number<.5?.04:.5<=number&&number<.8?.02:.8<=number&&number<.99?.005:0)+randomStep;value<maximumWidth&&(value+=step),maximumWidth<value&&(value=maximumWidth,_this.stop()),_this.set({width:value})},intervalTime)},stop:function(){updater&&clearInterval(updater)},complete:function(){var _this2=this;clearInterval(updater),this.set({width:1,running:!1});var settleTime=this.get().settleTime;setTimeout(function(){_this2.set({completed:!0}),setTimeout(function(){_this2.set({completed:!1,width:0})},settleTime)},settleTime)},setWidthRatio:function(widthRatio){this.stop(),this.set({width:widthRatio,completed:!1,running:!0})}};function create_main_fragment(component,ctx){var if_block_anchor,if_block=ctx.width&&create_if_block(component,ctx);return{c:function(){if_block&&if_block.c(),if_block_anchor=document.createComment("")},m:function(target,anchor){if_block&&if_block.m(target,anchor),insert(target,if_block_anchor,anchor)},p:function(changed,ctx){ctx.width?if_block?if_block.p(changed,ctx):((if_block=create_if_block(component,ctx)).c(),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&(if_block.d(1),if_block=null)},d:function(detach){if_block&&if_block.d(detach),detach&&detachNode(if_block_anchor)}}}function create_if_block(component,ctx){var div,div_class_value,if_block=ctx.running&&create_if_block_1(component,ctx);return{c:function(){div=createElement("div"),if_block&&if_block.c(),div.className=div_class_value="svelte-progress-bar "+ctx.barClass+" svelte-1fsw3ov",div.style.cssText=ctx.barStyle},m:function(target,anchor){insert(target,div,anchor),if_block&&if_block.m(div,null)},p:function(changed,ctx){ctx.running?if_block?if_block.p(changed,ctx):((if_block=create_if_block_1(component,ctx)).c(),if_block.m(div,null)):if_block&&(if_block.d(1),if_block=null),changed.barClass&&div_class_value!==(div_class_value="svelte-progress-bar "+ctx.barClass+" svelte-1fsw3ov")&&(div.className=div_class_value),changed.barStyle&&(div.style.cssText=ctx.barStyle)},d:function(detach){detach&&detachNode(div),if_block&&if_block.d()}}}function create_if_block_1(component,ctx){var div;return{c:function(){(div=createElement("div")).className="svelte-progress-bar-leader svelte-1fsw3ov",div.style.cssText=ctx.leaderColorStyle},m:function(target,anchor){insert(target,div,anchor)},p:function(changed,ctx){changed.leaderColorStyle&&(div.style.cssText=ctx.leaderColorStyle)},d:function(detach){detach&&detachNode(div)}}}function ProgressBar(options){var target,node,style;!function(component,options){component._handlers=blankObject(),component._slots=blankObject(),component._bind=options._bind,component._staged={},component.options=options,component.root=options.root||component,component.store=options.store||component.root.store,options.root||(component._beforecreate=[],component._oncreate=[],component._aftercreate=[])}(this,options),this._state=assign({minimum:.08,maximum:.994,settleTime:700,intervalTime:700,stepSizes:[0,.005,.01,.02]},options.data),this._recompute({completed:1,width:1,color:1},this._state),this._intro=!0,document.getElementById("svelte-1fsw3ov-style")||((style=createElement("style")).id="svelte-1fsw3ov-style",style.textContent=".svelte-progress-bar.svelte-1fsw3ov{position:fixed;top:0;left:0;height:2px;transition:width 0.16s ease-in-out;z-index:1}.svelte-progress-bar-hiding.svelte-1fsw3ov{transition:top 0.16s ease;top:-8px}.svelte-progress-bar-leader.svelte-1fsw3ov{position:absolute;top:0;right:0;height:2px;width:100px;transform:rotate(2.5deg) translate(0px, -4px);box-shadow:0 0 8px;z-index:2}",target=document.head,node=style,target.appendChild(node)),this._fragment=create_main_fragment(this,this._state),options.target&&(this._fragment.c(),this._mount(options.target,options.anchor))}return assign(ProgressBar.prototype,{destroy:function(detach){this.destroy=noop,this.fire("destroy"),this.set=noop,this._fragment.d(!1!==detach),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(eventName,data){var handlers=eventName in this._handlers&&this._handlers[eventName].slice();if(handlers)for(var i=0;i<handlers.length;i+=1){var handler=handlers[i];if(!handler.__calling)try{handler.__calling=!0,handler.call(this,data)}finally{handler.__calling=!1}}},on:function(eventName,handler){var handlers=this._handlers[eventName]||(this._handlers[eventName]=[]);return handlers.push(handler),{cancel:function(){var index=handlers.indexOf(handler);~index&&handlers.splice(index,1)}}},set:function(newState){var component;this._set(assign({},newState)),this.root._lock||((component=this.root)._lock=!0,callAll(component._beforecreate),callAll(component._oncreate),callAll(component._aftercreate),component._lock=!1)},_recompute:noop,_set:function(newState){var oldState=this._state,changed={},dirty=!1;for(var key in newState=assign(this._staged,newState),this._staged={},newState)this._differs(newState[key],oldState[key])&&(changed[key]=dirty=!0);dirty&&(this._state=assign(assign({},oldState),newState),this._recompute(changed,this._state),this._bind&&this._bind(changed,this._state),this._fragment&&(this.fire("state",{changed:changed,current:this._state,previous:oldState}),this._fragment.p(changed,this._state),this.fire("update",{changed:changed,current:this._state,previous:oldState})))},_stage:function(newState){assign(this._staged,newState)},_mount:function(target,anchor){this._fragment[this._fragment.i?"i":"m"](target,anchor||null)},_differs:function(a,b){return a!=a?b==b:a!==b||a&&"object"===_typeof(a)||"function"==typeof a}}),assign(ProgressBar.prototype,methods),ProgressBar.prototype._recompute=function(changed,state){var _ref2,width,color;changed.completed&&this._differs(state.barClass,state.barClass=state.completed?"svelte-progress-bar-hiding":"")&&(changed.barClass=!0),(changed.width||changed.color)&&this._differs(state.barStyle,state.barStyle=(width=(_ref2=state).width,[(color=_ref2.color)&&"background-color: ".concat(color,";")||"",width&&100*width&&"width: ".concat(100*width,"%;")||""].filter(Boolean).join("")))&&(changed.barStyle=!0),changed.color&&this._differs(state.leaderColorStyle,state.leaderColorStyle=function(_ref3){var color=_ref3.color;return color&&"background-color: ".concat(color,"; color: ").concat(color,";")||""}(state))&&(changed.leaderColorStyle=!0)},ProgressBar}();